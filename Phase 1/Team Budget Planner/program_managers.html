<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2058499 Program Managers</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <form>
        <h1>Add New Budget</h1>
        <div>Client Name: <input type="text" id="client"></div>
        <div>Project Name: <input type="text" id="project"></div>
        <div>Budget: <input type="text" id="budget"></div>
        <div>
            <input type="button" value="Add" onclick="addProject()">
            <input type="reset" value="Clear">
        </div>
        <div>
            <a href="index.html">Back</a>
        </div>
    </form>
    <script>
        function addProject() {
            // load data from the storage
            let savedProjects = sessionStorage.getItem("projects");
            let projects = [];
            // check if the data existed
            if (savedProjects != null) {
                // convert string into JSON
                let projectsJSON = JSON.parse(savedProjects);
                // restore the array of saved projects
                projectsJSON.forEach(project => {
                    projects.push(project);
                })
            }

            // get the fields from user input
            let newProject = [
                document.getElementById("client").value,
                document.getElementById("project").value,
                document.getElementById("budget").value
            ];

            // add to the object
            projects.push(newProject);

            // convert JSON to string and store the storage
            sessionStorage.setItem("projects", JSON.stringify(projects));
        }
    </script>
</body>

</html>